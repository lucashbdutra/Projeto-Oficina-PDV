<div class="margin">
  <div class="row">
    <div class="col-12">
      <h2 class="pb-2 border-bottom">Vendas</h2>
    </div>
  </div>
  <form [formGroup]="venda">
    <div class="row g-2">
      <div class="col">
        <label class="form-label">Produtos</label>
        <div class="mb-3 clients-list">
          <table
            *ngIf="produtos?.length"
            class="table table-striped table-sm"
          >
            <thead>
              <tr>
                <th scope="col" style="width: 30px"></th>
                <th scope="col">Nome do Produto</th>
                <th scope="col">Quantidade Dispon√≠vel</th>
                <th scope="col">Custo Unidade</th>
                <th scope="col">Quantidade vendida</th>
              </tr>
            </thead>
            <tbody>

              <tr *ngFor="let produto of produtos">
                <td>
                  <div class="input-div">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="produto"
                      (change)="handleProducts(produto)"
                    />
                  </div>
                </td>
                <td>{{ produto.nome }}</td>
                <td>{{ produto.quantidade }}</td>
                <td> R$ {{ produto.valorFinal }}</td>
                <td>
                  <input type="number" class="form-control" formControlName="quantidade" placeholder="Quantidade">
                </td>
              </tr>
            </tbody>
          </table>
          <button (click)="setList('produto')" [disabled]="condition()">Adcionar Produto</button>
        </div>
      </div>
    </div>


      <h3 *ngIf="!(produtosList.length === 0)">Produtos Adcionados</h3>
      <div *ngFor="let a of produtosList">Nome: {{a.nome}} <br>Quantidade: {{a.quantidade}} <br>Valor: {{a.valorFinal}}</div>
      <p></p>
      <h3 *ngIf="cliente">Cliente</h3>
      <div>{{cliente?.nome}}</div>
      <p></p>
      <button (click)="calculo()">Testao</button>
      <p></p>
      <h3 *ngIf="subtotal">Subtotal</h3>
      <div>{{subtotal}}</div>
  </form>
  <button (click)="onSubmit()">Concluir Venda</button>

</div>
